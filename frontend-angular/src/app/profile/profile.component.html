<div class="card my-5">
  <div class="card-body">
    @if (currentUser) {
    <h3>
      <strong> {{ currentUser.username }}</strong>
      </h3>
    } @else {
    <p>Please login.</p>
    }
    <mat-accordion class="example-headers-align" multi>
      <mat-expansion-panel [expanded]="true">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>account_circle</mat-icon>
            Personal data
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-form-field style="width: 100%">
          <mat-label>First name</mat-label>
          <input matInput name="firstName" [(ngModel)]="user.firstName">
        </mat-form-field>
        <mat-form-field style="width: 100%">
          <mat-label>Last name</mat-label>
          <input matInput name="lastName" [(ngModel)]="user.lastName">
        </mat-form-field>
        <mat-form-field style="width: 100%">
          <mat-label>Email</mat-label>
          <input matInput name="email" [(ngModel)]="user.email">
        </mat-form-field>
      </mat-expansion-panel>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Language
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-form-field style="width: 100%">
          <mat-label>Native language</mat-label>
          <mat-select [(ngModel)]="user.nativeLang">
            <mat-option *ngFor="let language of languages" [value]="language">{{ language }}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field style="width: 100%">
          <mat-label>Learning languages</mat-label>
          <mat-select [formControl]="colorControl" (selectionChange)="add($event)">
            <mat-option *ngFor="let language of learningLanguages" [value]="language">{{ language }}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-chip-set>
          <mat-chip *ngFor="let lang of user.learningLangs" [removable]="true" (removed)="remove(lang)">
            {{ lang }}
            <mat-icon matChipRemove>cancel</mat-icon>
          </mat-chip>
        </mat-chip-set>
      </mat-expansion-panel>
    </mat-accordion>
    <button mat-stroked-button (click)="onSubmit()" class="mt-3 float-end">Save</button>
  </div>
</div>
